<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Menu - Delicious Food</title>
    <meta name="description" content="Browse our complete restaurant menu with fresh ingredients, traditional recipes, and modern flavors. Order online for delivery or pickup.">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Restaurant Menu - Delicious Food">
    <meta property="og:description" content="Browse our complete restaurant menu with fresh ingredients and traditional recipes.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="/assets/restaurant-hero.jpg">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <link rel="stylesheet" href="/customer/styles/main.css">
    <link rel="stylesheet" href="/customer/styles/responsive.css">
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header-container">
            <div class="logo">
                <h1 data-testid="text-restaurant-name">Taste Paradise</h1>
            </div>
            
            <!-- Search Bar in Navbar for Large Screens -->
            <div class="navbar-search" id="navbarSearch">
                <div class="search-container">
                    <input type="text" id="searchInput" data-testid="input-search" placeholder="Search menu items..." autocomplete="off">
                    <button class="search-clear" id="searchClear" data-testid="button-search-clear" aria-label="Clear search">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            
            <div class="header-actions">
                <button class="theme-toggle" id="themeToggle" data-testid="button-theme-toggle" aria-label="Toggle theme">
                    <i class="fas fa-moon" id="themeIcon"></i>
                </button>
                <button class="search-toggle" id="searchToggle" data-testid="button-search-toggle" aria-label="Search menu">
                    <i class="fas fa-search"></i>
                </button>
                <button class="order-history-toggle" id="orderHistoryToggle" data-testid="button-order-history-toggle" aria-label="Order history" style="display: none;">
                    <i class="fas fa-receipt"></i>
                    <span class="order-notification" id="orderNotification" data-testid="text-order-notification" style="display: none;"></span>
                </button>
                <button class="cart-toggle" id="cartToggle" data-testid="button-cart-toggle" aria-label="View cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount" data-testid="text-cart-count">0</span>
                </button>
                <button class="profile-toggle" id="profileToggle" data-testid="button-profile-toggle" aria-label="User profile">
                    <i class="fas fa-user"></i>
                </button>
            </div>
        </div>
        
        <!-- Mobile Search Bar -->
        <div class="mobile-search-bar" id="mobileSearchBar">
            <div class="search-container">
                <input type="text" id="mobileSearchInput" data-testid="input-mobile-search" placeholder="Search menu items..." autocomplete="off">
                <button class="search-clear" id="mobileSearchClear" data-testid="button-mobile-search-clear" aria-label="Clear search">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="search-suggestions" id="searchSuggestions"></div>
        </div>
    </header>

    <!-- Category Navigation -->
    <nav class="category-nav" id="categoryNav">
        <div class="category-container">
            <button class="filter-toggle" id="filterToggle" data-testid="button-filter-toggle">
                <i class="fas fa-filter"></i>
                Filters
            </button>
            
            <button class="layout-toggle" id="layoutToggle" data-testid="button-layout-toggle" title="Switch to 2 columns">
                <i class="fas fa-th"></i>
            </button>
            
            <button class="category-tab active" data-category="all" data-testid="button-category-all">
                <i class="fas fa-utensils"></i>
                All Items
            </button>
            <button class="category-tab" data-category="appetizers" data-testid="button-category-appetizers">
                <i class="fas fa-leaf"></i>
                Appetizers
            </button>
            <button class="category-tab" data-category="main-course" data-testid="button-category-main-course">
                <i class="fas fa-drumstick-bite"></i>
                Main Course
            </button>
            <button class="category-tab" data-category="chinese" data-testid="button-category-chinese">
                <i class="fas fa-chopsticks"></i>
                Chinese
            </button>
            <button class="category-tab" data-category="fast-food" data-testid="button-category-fast-food">
                <i class="fas fa-hamburger"></i>
                Fast Food
            </button>
            <button class="category-tab" data-category="desserts" data-testid="button-category-desserts">
                <i class="fas fa-ice-cream"></i>
                Desserts
            </button>
            <button class="category-tab" data-category="beverages" data-testid="button-category-beverages">
                <i class="fas fa-glass-water"></i>
                Beverages
            </button>
            <button class="category-tab" data-category="special" data-testid="button-category-special">
                <i class="fas fa-star"></i>
                Chef's Special
            </button>
        </div>
    </nav>


    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Loading State -->
            <div class="loading-state" id="loadingState">
                <div class="skeleton-cards">
                    <!-- Skeleton cards will be generated here -->
                </div>
            </div>

            <!-- Menu Grid -->
            <div class="menu-grid" id="menuGrid">
                <!-- Menu items will be dynamically loaded here -->
            </div>

            <!-- Load More Button -->
            <div class="load-more-container" id="loadMoreContainer" style="display: none;">
                <button class="load-more-btn" id="loadMoreBtn" data-testid="button-load-more">
                    <i class="fas fa-plus"></i>
                    Load More Items
                </button>
            </div>

            <!-- Empty State -->
            <div class="empty-state" id="emptyState" style="display: none;">
                <div class="empty-content">
                    <i class="fas fa-search"></i>
                    <h3>No items found</h3>
                    <p>Try adjusting your search or filters</p>
                    <button class="clear-filters-btn" id="clearFiltersBtn" data-testid="button-clear-filters">
                        Clear All Filters
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Filter Sidebar -->
    <div class="filter-sidebar" id="filterSidebar">
        <div class="filter-overlay" id="filterOverlay"></div>
        <div class="filter-content">
            <div class="filter-header">
                <h3>Filters & Sort</h3>
                <button class="filter-close" id="filterClose" data-testid="button-filter-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="filter-body">
                <!-- Sort Options -->
                <div class="filter-group">
                    <h4>Sort By</h4>
                    <div class="sort-options">
                        <select id="sortSelect" data-testid="select-sort">
                            <option value="popular">Popular First</option>
                            <option value="price-low">Price: Low to High</option>
                            <option value="price-high">Price: High to Low</option>
                            <option value="rating">Highest Rated</option>
                            <option value="time">Preparation Time</option>
                        </select>
                    </div>
                </div>
                
                <!-- Price Range -->
                <div class="filter-group">
                    <h4>Price Range</h4>
                    <div class="price-range">
                        <input type="range" id="priceMin" min="0" max="2000" value="0" data-testid="input-price-min">
                        <input type="range" id="priceMax" min="0" max="2000" value="2000" data-testid="input-price-max">
                        <div class="price-values">
                            <span>‚Ç®<span id="priceMinValue">0</span></span>
                            <span>‚Ç®<span id="priceMaxValue">2000</span></span>
                        </div>
                    </div>
                </div>

                <!-- Dietary Preferences -->
                <div class="filter-group">
                    <h4>Dietary Preferences</h4>
                    <div class="checkbox-group">
                        <label class="checkbox-item">
                            <input type="checkbox" data-filter="vegan" data-testid="checkbox-vegan">
                            <span class="checkmark"></span>
                            <i class="fas fa-leaf"></i> Vegan
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" data-filter="vegetarian" data-testid="checkbox-vegetarian">
                            <span class="checkmark"></span>
                            <i class="fas fa-seedling"></i> Vegetarian
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" data-filter="halal" data-testid="checkbox-halal">
                            <span class="checkmark"></span>
                            <i class="fas fa-moon"></i> Halal
                        </label>
                        <label class="checkbox-item">
                            <input type="checkbox" data-filter="gluten-free" data-testid="checkbox-gluten-free">
                            <span class="checkmark"></span>
                            <i class="fas fa-wheat-awn-circle-exclamation"></i> Gluten Free
                        </label>
                    </div>
                </div>

                <!-- Spice Level -->
                <div class="filter-group">
                    <h4>Spice Level</h4>
                    <div class="spice-level">
                        <button class="spice-btn" data-spice="1" data-testid="button-spice-mild">
                            <i class="fas fa-pepper-hot"></i> Mild
                        </button>
                        <button class="spice-btn" data-spice="2" data-testid="button-spice-medium">
                            <i class="fas fa-pepper-hot"></i><i class="fas fa-pepper-hot"></i> Medium
                        </button>
                        <button class="spice-btn" data-spice="3" data-testid="button-spice-hot">
                            <i class="fas fa-pepper-hot"></i><i class="fas fa-pepper-hot"></i><i class="fas fa-pepper-hot"></i> Hot
                        </button>
                    </div>
                </div>

                <!-- Rating -->
                <div class="filter-group">
                    <h4>Minimum Rating</h4>
                    <div class="rating-filter">
                        <div class="star-rating">
                            <i class="fas fa-star" data-rating="1"></i>
                            <i class="fas fa-star" data-rating="2"></i>
                            <i class="fas fa-star" data-rating="3"></i>
                            <i class="fas fa-star" data-rating="4"></i>
                            <i class="fas fa-star" data-rating="5"></i>
                        </div>
                        <span id="ratingValue" data-testid="text-rating-value">4.0 & up</span>
                    </div>
                </div>
            </div>

            <div class="filter-footer">
                <button class="btn-secondary" id="resetFilters" data-testid="button-reset-filters">
                    Reset All
                </button>
                <button class="btn-primary" id="applyFilters" data-testid="button-apply-filters">
                    Apply Filters
                </button>
            </div>
        </div>
    </div>

    <!-- Item Detail Modal -->
    <div class="modal" id="itemModal">
        <div class="modal-overlay" id="modalOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" id="modalClose" data-testid="button-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Item details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Authentication Modal -->
    <div class="auth-modal" id="authModal">
        <div class="modal-overlay" id="authModalOverlay"></div>
        <div class="modal-content">
            <!-- Phone Number Step -->
            <div class="auth-step" id="phoneStep">
                <div class="auth-header">
                    <h3>Sign In / Sign Up</h3>
                    <button class="modal-close" id="authClose" data-testid="button-auth-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="auth-body">
                    <p>Enter your mobile number to continue</p>
                    <form id="phoneForm">
                        <div class="form-group">
                            <label for="phoneInput">Mobile Number</label>
                            <input type="tel" id="phoneInput" data-testid="input-phone" placeholder="03xxxxxxxxx" required>
                        </div>
                        <button type="submit" class="auth-btn" id="sendOtpBtn" data-testid="button-send-otp">
                            <span class="btn-text">Send OTP</span>
                            <span class="btn-loading" style="display: none;"><i class="fas fa-spinner fa-spin"></i></span>
                        </button>
                    </form>
                </div>
            </div>

            <!-- OTP Verification Step -->
            <div class="auth-step" id="otpStep" style="display: none;">
                <div class="auth-header">
                    <h3>Verify OTP</h3>
                    <button class="modal-close" id="otpClose" data-testid="button-otp-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="auth-body">
                    <p>Enter the 6-digit code sent to <span id="phoneDisplay"></span></p>
                    <form id="otpForm">
                        <div class="form-group">
                            <label for="otpInput">Verification Code</label>
                            <input type="text" id="otpInput" data-testid="input-otp" placeholder="000000" maxlength="6" required>
                        </div>
                        <button type="submit" class="auth-btn" id="verifyOtpBtn" data-testid="button-verify-otp">
                            <span class="btn-text">Verify Code</span>
                            <span class="btn-loading" style="display: none;"><i class="fas fa-spinner fa-spin"></i></span>
                        </button>
                        <button type="button" class="resend-btn" id="resendOtpBtn" data-testid="button-resend-otp">
                            Resend Code
                        </button>
                    </form>
                </div>
            </div>

            <!-- User Details Step (for new users) -->
            <div class="auth-step" id="detailsStep" style="display: none;">
                <div class="auth-header">
                    <h3>Complete Your Profile</h3>
                    <button class="modal-close" id="detailsClose" data-testid="button-details-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="auth-body">
                    <p>Please provide your details to continue</p>
                    <form id="detailsForm">
                        <div class="form-group">
                            <label for="nameInput">Full Name</label>
                            <input type="text" id="nameInput" data-testid="input-name" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label for="emailInput">Email (Optional)</label>
                            <input type="email" id="emailInput" data-testid="input-email" placeholder="Enter your email">
                        </div>
                        <div class="form-group">
                            <label for="passwordInput">Password (Optional)</label>
                            <input type="password" id="passwordInput" data-testid="input-password" placeholder="Create a password (minimum 6 characters)">
                            <small style="color: var(--text-secondary); font-size: 0.8rem;">Setting a password allows you to login faster next time</small>
                        </div>
                        <div class="form-group">
                            <label for="confirmPasswordInput">Confirm Password</label>
                            <input type="password" id="confirmPasswordInput" data-testid="input-confirm-password" placeholder="Re-enter your password">
                        </div>
                        <button type="submit" class="auth-btn" id="saveDetailsBtn" data-testid="button-save-details">
                            <span class="btn-text">Continue</span>
                            <span class="btn-loading" style="display: none;"><i class="fas fa-spinner fa-spin"></i></span>
                        </button>
                    </form>
                </div>
            </div>

            <!-- Address Step -->
            <div class="auth-step" id="addressStep" style="display: none;">
                <div class="auth-header">
                    <h3>Add Delivery Address</h3>
                    <button class="modal-close" id="addressClose" data-testid="button-address-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="auth-body">
                    <p>Add your address for delivery</p>
                    <form id="addressForm">
                        <div class="form-group">
                            <label for="addressTitleInput">Address Title</label>
                            <input type="text" id="addressTitleInput" data-testid="input-address-title" placeholder="Home, Office, etc." required>
                        </div>
                        <div class="form-group">
                            <label for="addressLine1Input">Address Line 1</label>
                            <input type="text" id="addressLine1Input" data-testid="input-address-line1" placeholder="Street address" required>
                        </div>
                        <div class="form-group">
                            <label for="addressLine2Input">Address Line 2 (Optional)</label>
                            <input type="text" id="addressLine2Input" data-testid="input-address-line2" placeholder="Apartment, suite, etc.">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cityInput">City</label>
                                <input type="text" id="cityInput" data-testid="input-city" placeholder="City" required>
                            </div>
                            <div class="form-group">
                                <label for="areaInput">Area</label>
                                <input type="text" id="areaInput" data-testid="input-area" placeholder="Area/Locality">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="landmarkInput">Landmark (Optional)</label>
                            <input type="text" id="landmarkInput" data-testid="input-landmark" placeholder="Nearby landmark">
                        </div>
                        <button type="submit" class="auth-btn" id="saveAddressBtn" data-testid="button-save-address">
                            <span class="btn-text">Save & Continue</span>
                            <span class="btn-loading" style="display: none;"><i class="fas fa-spinner fa-spin"></i></span>
                        </button>
                        <button type="button" class="skip-btn" id="skipAddressBtn" data-testid="button-skip-address">
                            Skip for Now
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Order History Modal -->
    <div class="order-history-modal" id="orderHistoryModal">
        <div class="modal-overlay" id="orderHistoryOverlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Order History</h3>
                <button class="modal-close" id="orderHistoryModalClose" data-testid="button-order-history-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="orderHistoryBody">
                <div class="order-history-empty" id="orderHistoryEmpty">
                    <i class="fas fa-receipt"></i>
                    <p>No orders yet</p>
                    <small>Your order history will appear here</small>
                </div>
                <div class="order-history-list" id="orderHistoryList">
                    <!-- Order history items will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Sidebar -->
    <div class="profile-sidebar" id="profileSidebar">
        <div class="profile-overlay" id="profileOverlay"></div>
        <div class="profile-content">
            <div class="profile-header">
                <h3>Profile</h3>
                <button class="profile-close" id="profileClose" data-testid="button-profile-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Not Signed In State -->
            <div class="profile-body" id="profileNotSignedIn">
                <div class="profile-empty">
                    <i class="fas fa-user"></i>
                    <p>Please sign in to view your profile</p>
                    <button class="auth-btn" id="signInBtn" data-testid="button-sign-in">
                        <i class="fas fa-sign-in-alt"></i>
                        Sign In
                    </button>
                </div>
            </div>
            
            <!-- Signed In State -->
            <div class="profile-body" id="profileSignedIn" style="display: none;">
                <div class="profile-info">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="profile-details">
                        <h4 id="profileName" data-testid="text-profile-name">John Doe</h4>
                        <p id="profilePhone" data-testid="text-profile-phone">+92 300 1234567</p>
                        <p id="profileEmail" data-testid="text-profile-email">john@example.com</p>
                    </div>
                    <button class="profile-edit-btn" id="profileEditBtn" data-testid="button-profile-edit">
                        <i class="fas fa-edit"></i>
                    </button>
                </div>
                
                <!-- Addresses Section -->
                <div class="profile-section">
                    <div class="section-header">
                        <h4>Saved Addresses</h4>
                        <button class="add-address-btn" id="addAddressBtn" data-testid="button-add-address">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                    <div class="addresses-list" id="addressesList">
                        <!-- Addresses will be loaded here -->
                    </div>
                </div>
                
                <!-- Account Management Section -->
                <div class="profile-section">
                    <h4>Account Management</h4>
                    <div class="account-actions">
                        <button class="account-btn" id="setPasswordBtn" data-testid="button-set-password">
                            <i class="fas fa-key"></i>
                            Set Password
                        </button>
                        <button class="account-btn danger" id="deleteAccountBtn" data-testid="button-delete-account">
                            <i class="fas fa-trash"></i>
                            Delete Account
                        </button>
                    </div>
                </div>
                
                <!-- Sign Out Button -->
                <div class="profile-footer">
                    <button class="signout-btn" id="signOutBtn" data-testid="button-sign-out">
                        <i class="fas fa-sign-out-alt"></i>
                        Sign Out
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-overlay" id="cartOverlay"></div>
        <div class="cart-content">
            <div class="cart-header">
                <h3>Your Order</h3>
                <button class="cart-close" id="cartClose" data-testid="button-cart-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="cart-body" id="cartBody">
                <div class="cart-empty" id="cartEmpty">
                    <i class="fas fa-shopping-cart"></i>
                    <p>Your cart is empty</p>
                    <small>Add some delicious items to get started!</small>
                </div>
                
                <div class="cart-items" id="cartItems">
                    <!-- Cart items will be loaded here -->
                </div>
            </div>

            <div class="cart-footer" id="cartFooter" style="display: none;">
                <div class="cart-total">
                    <div class="subtotal">
                        <span>Subtotal:</span>
                        <span id="cartSubtotal" data-testid="text-cart-subtotal">‚Ç®0</span>
                    </div>
                    <div class="tax">
                        <span>Tax:</span>
                        <span id="cartTax" data-testid="text-cart-tax">‚Ç®0</span>
                    </div>
                    <div class="total">
                        <span>Total:</span>
                        <span id="cartTotal" data-testid="text-cart-total">‚Ç®0</span>
                    </div>
                </div>
                
                <button class="checkout-btn" id="checkoutBtn" data-testid="button-checkout">
                    <i class="fas fa-credit-card"></i>
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Order History Sidebar -->
    <div class="order-history-sidebar" id="orderHistorySidebar">
        <div class="order-history-overlay" id="orderHistoryOverlay"></div>
        <div class="order-history-content">
            <div class="order-history-header">
                <h3>Order History</h3>
                <button class="order-history-close" id="orderHistorySidebarClose" data-testid="button-order-history-sidebar-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="order-history-body" id="orderHistoryBody">
                <div class="order-history-empty" id="orderHistoryEmpty">
                    <i class="fas fa-receipt"></i>
                    <p>No orders yet</p>
                    <small>Your order history will appear here</small>
                </div>
                
                <div class="order-history-list" id="orderHistoryList">
                    <!-- Order history items will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Contact Us</h4>
                    <p><i class="fas fa-phone"></i> +1 (555) 123-4567</p>
                    <p><i class="fas fa-envelope"></i> info@tasteparadise.com</p>
                    <p><i class="fas fa-map-marker-alt"></i> 123 Food Street, City</p>
                </div>
                
                <div class="footer-section">
                    <h4>Hours</h4>
                    <p>Monday - Thursday: 11am - 10pm</p>
                    <p>Friday - Saturday: 11am - 11pm</p>
                    <p>Sunday: 12pm - 9pm</p>
                </div>
                
                <div class="footer-section">
                    <h4>Follow Us</h4>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Taste Paradise. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="/customer/js/app.js"></script>
    <script src="/customer/js/cart.js"></script>
    <script src="/customer/js/filters.js"></script>
    <script src="/customer/js/auth.js"></script>
    
    <script>
        // Initialize application after all scripts are loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Wait a bit for all scripts to fully load
            setTimeout(() => {
                try {
                    console.log('üîÑ Initializing customer website components...');
                    
                    // Initialize cart first as it's needed by menu app
                    window.cart = new ShoppingCart();
                    console.log('‚úÖ Cart initialized');
                    
                    // Initialize menu app
                    window.menuApp = new MenuApp();
                    console.log('‚úÖ Menu app initialized');
                    
                    // Initialize auth and filters
                    window.auth = new AuthenticationManager();
                    window.filters = new FilterManager();
                    console.log('‚úÖ Auth and filters initialized');
                    
                    // Debug cart button
                    const cartButton = document.getElementById('cartToggle');
                    if (cartButton) {
                        console.log('‚úÖ Cart button found:', cartButton);
                        // Add direct event listener as backup
                        cartButton.addEventListener('click', function() {
                            console.log('üõí Cart button clicked directly');
                            if (window.cart && window.cart.toggle) {
                                window.cart.toggle();
                            } else {
                                console.error('‚ùå Cart not available');
                            }
                        });
                    } else {
                        console.error('‚ùå Cart button not found');
                    }
                    
                    // Debug order history button
                    const orderHistoryButton = document.getElementById('orderHistoryToggle');
                    if (orderHistoryButton) {
                        console.log('‚úÖ Order history button found:', orderHistoryButton);
                        // Add direct event listener as backup
                        orderHistoryButton.addEventListener('click', function() {
                            console.log('üìã Order history button clicked directly');
                            if (window.menuApp && window.menuApp.toggleOrderHistory) {
                                window.menuApp.toggleOrderHistory();
                            } else {
                                console.error('‚ùå Menu app not available');
                            }
                        });
                    } else {
                        console.log('‚ÑπÔ∏è Order history button not found (will appear after order)');
                    }
                    
                    console.log('‚úÖ Customer website initialized successfully');
                } catch (error) {
                    console.error('‚ùå Error initializing customer website:', error);
                }
            }, 100);
        });
    </script>
</body>
</html>